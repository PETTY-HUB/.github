# ğŸ¾ PETTY - ë°˜ë ¤ë™ë¬¼ê³¼ ë– ë‚˜ëŠ” ì™„ë²½í•œ ì—¬í–‰

<div align="center">
  
![MAIN-001](https://github.com/user-attachments/assets/2982f23f-718c-4b14-b5f8-638cff4e5258)

![PETTY Logo](https://img.shields.io/badge/PETTY-ğŸ¾-orange?style=for-the-badge)

[![Spring Boot](https://img.shields.io/badge/Spring%20Boot-6DB33F?style=flat-square&logo=spring-boot)](https://spring.io/projects/spring-boot)
[![Java](https://img.shields.io/badge/Java--ED8B00?style=flat-square&logo=openjdk)](https://openjdk.org/)
[![PostgreSQL](https://img.shields.io/badge/PostgreSQL-316192?style=flat-square&logo=postgresql)](https://postgresql.org/)
[![MySQL](https://img.shields.io/badge/MySQL-4479A1?style=flat-square&logo=mysql)](https://mysql.com/)
[![Qdrant](https://img.shields.io/badge/Qdrant-Vector%20DB-DC382D?style=flat-square)](https://qdrant.tech/)
[![Oracle Cloud](https://img.shields.io/badge/Oracle%20Cloud-F80000?style=flat-square&logo=oracle&logoColor=white)](https://www.oracle.com/cloud/)
[![AWS](https://img.shields.io/badge/AWS-FF9900?style=flat-square&logo=amazon-aws)](https://aws.amazon.com/)
[![Supabase](https://img.shields.io/badge/Supabase-3ECF8E?style=flat-square&logo=supabase)](https://supabase.com/)

</div>

## ğŸ¯ ì„œë¹„ìŠ¤ ì†Œê°œ

ğŸ˜½ PETTYëŠ” ë°˜ë ¤ë™ë¬¼ê³¼ í•¨ê»˜í•˜ëŠ” ì—¬í–‰ì„ ìœ„í•œ AI ê¸°ë°˜ ì¶”ì²œ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤  
ğŸ¶ ì‚¬ìš©ìì˜ ë°˜ë ¤ë™ë¬¼ ì‚¬ì§„ì„ ë¶„ì„í•˜ì—¬ ë§ì¶¤í˜• ì—¬í–‰ì§€ë¥¼ ì¶”ì²œë°›ì„ ìˆ˜ ìˆì–´ìš”!  
ğŸ—ºï¸ í˜„ì¬ ìœ„ì¹˜ ê¸°ë°˜ ì£¼ë³€ì— ìˆëŠ” ë°˜ë ¤ë™ë¬¼ ì—¬í–‰ì§€ ë¦¬ìŠ¤íŠ¸ë¥¼ í™•ì¸í•  ìˆ˜ ìˆì–´ìš”!  
ğŸ–Šï¸ ì»¤ë®¤ë‹ˆí‹° ê¸°ëŠ¥ì„ í†µí•´ ë°˜ë ¤ë™ë¬¼ ì—¬í–‰ ê²½í—˜ì„ ê³µìœ í•  ìˆ˜ ìˆì–´ìš”!


<br>

## âœ¨ ì£¼ìš” ê¸°ëŠ¥

###  ğŸ¯ JWT ê¸°ë°˜ ë¡œê·¸ì¸
> ì´ë©”ì¼ ì¸ì¦ê³¼ ì†Œì…œ ë¡œê·¸ì¸ì„ í†µí•œ ì‚¬ìš©ì ì¸ì¦ ì‹œìŠ¤í…œ

- **ë¡œì»¬ ë¡œê·¸ì¸**: ì´ë©”ì¼ ì¸ì¦ ê¸°ë°˜ SMTP íšŒì›ê°€ì…
- **ì†Œì…œ ë¡œê·¸ì¸**: GitHub, Kakao OAuth2 ì—°ë™
- **JWT**: Access Token (1ì‹œê°„) + Refresh Token (7ì¼)
- **Cookie ë³´ì•ˆ**: HttpOnly, Secure ì„¤ì •
- **í† í° ìˆœí™˜**: ì‚¬ìš©ìë³„ ìµœëŒ€ 3ê°œ Refresh Token ê´€ë¦¬ 

### ğŸ¤– AI ë°˜ë ¤ë™ë¬¼ ë¶„ì„

> ë°˜ë ¤ë™ë¬¼ ì‚¬ì§„ì„ ì…ë ¥í•˜ë©´, ì„±ê²©, ì™¸ëª¨, íŠ¹ì„±ì— ëŒ€í•œ ì •ë³´ ë¶„ì„

- **ë‹¤ì¤‘ AI ëª¨ë¸**: AWS Rekognition + Gemini 2.0 Flash + Llama 3.2 Vision
- **íŠ¹ì„± ë¶„ì„**: ì¢…, í’ˆì¢…, í¬ê¸°, ë¬´ê²Œ, ë§¹ê²¬ ì—¬ë¶€ ìë™ íŒë³„
- **í´ë°± ì‹œìŠ¤í…œ**: ëª¨ë¸ ê°„ ìš°ì„ ìˆœìœ„ë¥¼ í†µí•œ ì•ˆì •ì„± ë³´ì¥

### ğŸ” ë²¡í„° ê¸°ë°˜ ì—¬í–‰ì§€ ì¶”ì²œ

> ì‚¬ìš©ìê°€ ì›í•˜ëŠ” ì¡°ê±´ì˜ ì—¬í–‰ì§€ë¥¼ ì…ë ¥í•˜ë©´ AIë¥¼ í†µí•´ ë§ì¶¤ ì¶”ì²œ ì œê³µ

- **ìœ ì‚¬ë„ ê²€ìƒ‰**: OpenAI Embeddings + Qdrant Vector DB
- **AI í™œìš© ë¦¬ë­í‚¹**: Geminië¥¼ í™œìš©í•œ ë§ì¶¤í˜• ìˆœìœ„ ì¡°ì •
- **ë‹¤ì¤‘ í•„í„°ë§**: ì§€ì—­, ì¹´í…Œê³ ë¦¬, ë°˜ë ¤ë™ë¬¼ ì¡°ê±´ ë³µí•© ê²€ìƒ‰

### ğŸ—ºï¸ ì—¬í–‰ì§€ ì •ë³´ ì‹œìŠ¤í…œ

> GPS í˜„ì¬ ìœ„ì¹˜ ê¸°ë°˜ ë°˜ë ¤ ë™ë¬¼ ë™ë°˜ ê°€ëŠ¥ ì—¬í–‰ ì •ë³´ ì œê³µ

- **ì‹¤ì‹œê°„ ë™ê¸°í™”**: í•œêµ­ê´€ê´‘ê³µì‚¬ Tour API ìë™ ì—°ë™
- **ìœ„ì¹˜ ê¸°ë°˜ ê²€ìƒ‰**: ì¹´ì¹´ì˜¤ ì§€ë„ API ë° ê³µê°„ ì¸ë±ìŠ¤ í™œìš©
- **ìƒì„¸ ì •ë³´**: ì‹œì„¤, í¸ì˜ì‚¬í•­, ë°˜ë ¤ë™ë¬¼ ë™ë°˜ ì¡°ê±´ í•„í„°ë§

### ğŸ‘¥ ì»¤ë®¤ë‹ˆí‹° í”Œë«í¼

> CRUD, ëŒ“ê¸€, ì¢‹ì•„ìš” ë“± ì‚¬ìš©ìë¥¼ ê³ ë ¤í•œ ì»¤ë®¤ë‹ˆí‹° ê¸°ëŠ¥

- **ê²Œì‹œíŒ**: í›„ê¸°, ìë‘, Q&A ì¹´í…Œê³ ë¦¬ë³„ ìš´ì˜
- **ì´ë¯¸ì§€ ì—…ë¡œë“œ**: Supabase Storage ì—°ë™
- **ì†Œì…œ ê¸°ëŠ¥**: ì¢‹ì•„ìš”, ëŒ“ê¸€, ì•Œë¦¼ ì‹œìŠ¤í…œ

<br>

## ğŸ“’ ERD ë° ê¸°ìˆ  ìŠ¤íƒ
### ğŸ›  ERD

  <img src="https://github.com/user-attachments/assets/85d18a85-c2d2-4098-b552-ca2ce94a8e45" width="1000" alt="Image 1">
  <br><br>
  <img src="https://github.com/user-attachments/assets/fee6db1f-5044-48bf-8f89-a432cb5b5eb5" width="1000" alt="Image 2">

## ğŸ›  ê¸°ìˆ  ìŠ¤íƒ
   <img src="https://github.com/user-attachments/assets/cc66d18b-03b9-4b86-90ca-45ad1c9b2443" width="1000" alt="diagram">
   <br><br>

   
### Backend

```
Spring Boot
â”œâ”€â”€ Spring Security (JWT + OAuth2)
â”œâ”€â”€ Spring Data JPA (ë©€í‹° ë°ì´í„°ì†ŒìŠ¤)
â”œâ”€â”€ Spring AI
â””â”€â”€ Validation
```

### Database & Storage

```
ë©€í‹° ë°ì´í„°ë² ì´ìŠ¤ ì•„í‚¤í…ì²˜
â”œâ”€â”€ PostgreSQL (ì‚¬ìš©ì/ì»¤ë®¤ë‹ˆí‹°) - Supabase
â”œâ”€â”€ MySQL (ì—¬í–‰ì§€ ì •ë³´) - Aiven
â”œâ”€â”€ Vector Database - Qdrant
â””â”€â”€ File Storage - Supabase Storage
```

### AI & External APIs

```
AI íŒŒì´í”„ë¼ì¸
â”œâ”€â”€ AWS Rekognition (ì´ë¯¸ì§€ ë¼ë²¨ë§)
â”œâ”€â”€ Google Gemini 2.0 Flash (í…ìŠ¤íŠ¸ ìƒì„±)
â”œâ”€â”€ Meta Llama 3.2 Vision (ì´ë¯¸ì§€ ë¶„ì„)
â”œâ”€â”€ OpenAI Embeddings (ë²¡í„° ìƒì„±)
â””â”€â”€ í•œêµ­ê´€ê´‘ê³µì‚¬ API (ë°ì´í„° ë™ê¸°í™”)
```

### Infrastructure

```
í´ë¼ìš°ë“œ ì¸í”„ë¼
â”œâ”€â”€ Oracle Cloud Infrastructure (ë°°í¬)
â”œâ”€â”€ AWS (Rekognition)
â”œâ”€â”€ Supabase (PostgreSQL, Storage)
â”œâ”€â”€ Aiven (MySQL)
â””â”€â”€ Qdrant Cloud (Vector DB)
```

## ğŸ— ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

```mermaid
graph TB
    User[ğŸ‘¤ ì‚¬ìš©ì] --> Web[ğŸŒ ì›¹ ì¸í„°í˜ì´ìŠ¤]

    Web --> Auth[ğŸ” ì¸ì¦ ì‹œìŠ¤í…œ]
    Web --> Vision[ğŸ‘ï¸ Vision AI]
    Web --> Recommend[ğŸ¯ ì¶”ì²œ ì‹œìŠ¤í…œ]
    Web --> Community[ğŸ’¬ ì»¤ë®¤ë‹ˆí‹°]

    Auth --> Supabase[(ğŸ˜ Supabase PostgreSQL)]
    Community --> Supabase
    Community --> Storage[ğŸ“ Supabase Storage]

    Vision --> Rekognition[ğŸ” AWS Rekognition]
    Vision --> Gemini[ğŸ¤– Gemini 2.0]
    Vision --> Llama[ğŸ¦™ Llama 3.2]

    Recommend --> OpenAI[ğŸ§  OpenAI Embeddings]
    Recommend --> Qdrant[(ğŸ”® Qdrant Vector DB)]
    Recommend --> GeminiRerank[âš¡ Gemini Reranking]

    Sync[ğŸ”„ ë°ì´í„° ë™ê¸°í™”] --> TourAPI[ğŸ—ºï¸ í•œêµ­ê´€ê´‘ê³µì‚¬ API]
    Sync --> MySQL[(ğŸ¬ Aiven MySQL)]

    Recommend --> MySQL

    style User fill:#e1f5fe
    style Vision fill:#f3e5f5
    style Recommend fill:#e8f5e8
    style Community fill:#fff3e0
```

## ğŸ—ƒ ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„

### ë©€í‹° ë°ì´í„°ë² ì´ìŠ¤ ì „ëµ

```mermaid
erDiagram
    %% Supabase PostgreSQL - ì‚¬ìš©ì/ì»¤ë®¤ë‹ˆí‹°
    USERS ||--o{ POSTS : writes
    USERS ||--o{ COMMENTS : writes
    USERS ||--o{ POST_LIKES : likes
    POSTS ||--o{ COMMENTS : has
    POSTS ||--o{ POST_IMAGES : contains
    POSTS ||--o{ POST_LIKES : receives

    %% Aiven MySQL - ì—¬í–‰ì§€ ì •ë³´
    CONTENT ||--o{ CONTENT_IMAGES : has
    CONTENT ||--|| CONTENT_INTRO : has
    CONTENT ||--|| PET_TOUR_INFO : has
    CONTENT ||--o{ CONTENT_INFOS : has
    CONTENT ||--o{ ROOM_INFOS : has

    %% Vector Database
    VECTOR_EMBEDDINGS ||--|| CONTENT : represents

    USERS {
        uuid id PK
        string username
        string display_name
        string role
        string provider
        timestamp created_at
    }

    CONTENT {
        bigint content_id PK
        int content_type_id
        string title
        string addr1
        point location
        timestamp modified_time
    }

    VECTOR_EMBEDDINGS {
        string id PK
        string content_id FK
        vector embedding
        json metadata
    }
```

## ğŸ§  AI íŒŒì´í”„ë¼ì¸

### Vision Analysis Flow

```mermaid
flowchart LR
    A[ğŸ“· ì´ë¯¸ì§€ ì—…ë¡œë“œ] --> B[ğŸ” ì´ë¯¸ì§€ ê²€ì¦]
    B --> C{ìœ íš¨í•œê°€?}
    C -->|No| D[âŒ ì˜¤ë¥˜ ë°˜í™˜]
    C -->|Yes| E[ğŸ¤– AWS Rekognition]
    E --> F[ğŸ“Š ë¼ë²¨ ë¶„ì„]
    F --> G[ğŸ• ë™ë¬¼ ì¢… íŒë³„]
    G --> H[ğŸ’¬ ì¤‘ê°„ ê²°ê³¼ ë°˜í™˜]
    H --> I[ğŸ§  Gemini 2.0 Flash]
    I --> J{ì„±ê³µ?}
    J -->|Yes| K[ğŸ“ ìƒì„¸ ë¶„ì„ ì™„ë£Œ]
    J -->|No| L[ğŸ¦™ Llama 3.2 Fallback]
    L --> M[ğŸ“ ë¶„ì„ ì™„ë£Œ]
    K --> N[ğŸ’¾ ìºì‹œ ì €ì¥]
    M --> N
    N --> O[ğŸ“‹ ìµœì¢… ë³´ê³ ì„œ]
    style A fill:#e1f5fe
    style I fill:#f3e5f5
    style L fill:#fff3e0
    style O fill:#e8f5e8
```

### Recommendation Pipeline

```mermaid
flowchart LR
    A[ğŸ‘¤ ì‚¬ìš©ì ì…ë ¥] --> B[ğŸ”„ í”„ë¡¬í”„íŠ¸ ë¹Œë”©]
    B --> C[ğŸ§  OpenAI Embeddings]
    C --> D[ğŸ” ë²¡í„° ê²€ìƒ‰]
    D --> E[ğŸ“ í•„í„°ë§]
    E --> F[ğŸ¤– Gemini ë¦¬ë­í‚¹]
    F --> G[ğŸ“‹ ìµœì¢… ì¶”ì²œ]

    subgraph "Vector Search"
        D --> D1[ğŸ”® Qdrant Query]
        D1 --> D2[ğŸ“Š Similarity Score]
        D2 --> D3[ğŸ¯ Top-K Results]
    end

    subgraph "Intelligent Reranking"
        F --> F1[ğŸ“ ì»¨í…ìŠ¤íŠ¸ ë¶„ì„]
        F1 --> F2[ğŸ¯ ê°œì¸í™” ì ìˆ˜]
        F2 --> F3[ğŸ“ˆ ìµœì  ìˆœì„œ]
    end

    style C fill:#e1f5fe
    style D fill:#f3e5f5
    style F fill:#fff3e0
```


<br>

## ğŸ“Œ íŒ€ì› ì†Œê°œ

| <img src="https://avatars.githubusercontent.com/taehyun32" width=100px>  | <img src="https://avatars.githubusercontent.com/LimPark996" width=100px>| <img src="https://avatars.githubusercontent.com/Juyoung8563" width=100px> | <img src="https://avatars.githubusercontent.com/usn757" width=100px> | <img src="https://avatars.githubusercontent.com/23MinL" width=100px> | <img src="https://avatars.githubusercontent.com/s0ooo0k" width=100px> |
| :----------------------------------------------------------------------: | :---------------------------------------------------------------------: | :-----------------------------------------------------------------------: | :------------------------------------------------------------------: | :------------------------------------------------------------------: | :-------------------------------------------------------------------: |
|                                  ê¹€íƒœí˜„                  |                                 ë°•ìœ ë¯¸                                |                                  ì†ì£¼ì˜                                   |                                ìœ ìŠ¹ë‚¨                 |                                ì´ìƒë¯¼                  |                                ì§€í˜„ìˆ™                  |
|                [@taehyun32](https://github.com/taehyun32)                |             [@Yumi-Park996](https://github.com/LimPark996)              |              [@Juyoung8563](https://github.com/Juyoung8563)               |                 [@usn757](https://github.com/usn757)                 |                 [@23MinL](https://github.com/23MinL)                 |                [@s0ooo0k](https://github.com/s0ooo0k)                 |


## ğŸ“¬ ì—°ë½í•˜ê¸°

í”„ë¡œì íŠ¸ì— ëŒ€í•œ ì§ˆë¬¸ì´ë‚˜ ì œì•ˆì´ ìˆë‹¤ë©´ [Issues](https://github.com/PETTY-HUB/PETTY-BACK/issues)ë¥¼ í†µí•´ ììœ ë¡­ê²Œ ì˜ê²¬ì„ ë‚¨ê²¨ì£¼ì„¸ìš”!
